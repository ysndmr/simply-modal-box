(function(a){a.extend({simplyModal:function(b){function f(r){a(document).keyup(function(s){27===s.keyCode&&m(r)})}function g(r){a('.modal-close').on('click',function(s){s.preventDefault(),m(r)})}function h(r,s,t){var u=new Date;u.setTime(u.getTime()+1e3*(60*(60*(24*t))));var v='expires='+u.toUTCString();document.cookie=r+'='+s+';'+v+';path=/'}function i(){h(p.cookie.name,1,p.cookie.expire)}function k(r){a('.modal-close-group, .modal-overlay').on('click',function(){a(r).remove(),a('#popup').remove(),a('.modal-overlay').remove()})}function l(r){a('.button-group-set a').on('click',function(s){s.preventDefault(),m(r)})}function m(r){a(r).remove(),a('#popup').remove(),a('.modal-overlay').remove()}function n(r){!1!=p.setTimeout&&setTimeout(function(){m(r)},p.setTimeout)}var o=this,p=a.extend({title:'',description:'',setTimeout:!1,classSet:['default','success','info','error','iframeModal'],class:'',typeSet:['default','type1','notifyTemplate','iframeModal'],type:'',buttonNameSet:['Yes','No'],button:'',close:!0,effects:['fadein','slideRight','slideBottom','fall','flid3d','scale','newspaper','d3rotate','horizontal-3d'],effect:'',classBtn:'simply-iframeModal',defaultW:400,defaultH:500,cookie:{expire:null,name:null}},b),q={elm:'.modal-box-group',iconClass:'',typeIconClass:'',iconUrl:'src/icons/',iconWidthHeight:'width="25" height="25"',popup:null};(function(){if(p.cookie.name&&p.cookie.expire&&i(),null!=p.classBtn||void 0!=p.classBtn||0<p.classBtn.length)var r={url:a('.'+p.classBtn).attr('data-src'),height:p.defaultH||a('.'+p.classBtn).attr('data-height'),width:p.defaultW||a('.'+p.classBtn).attr('data-width')};p.class=-1==p.classSet.indexOf(p.class)?'default':p.class,p.type=-1==p.typeSet.indexOf(p.type)?'default':p.type,p.button=1<p.button.length?p.button:p.buttonNameSet,p.effect=-1==p.effects.indexOf(p.effect)?'fadein':p.effect;var s=a('<div class=\'modal-overlay '+p.class+' modal-close-group\'></div>');'type1'==p.type?'success'==p.class?q.iconClass='<img src="'+q.iconUrl+''+p.class+'.svg" '+q.iconWidthHeight+' />':'error'==p.class?q.iconClass='<img src="'+q.iconUrl+''+p.class+'.svg" '+q.iconWidthHeight+' />':'info'==p.class?q.iconClass='<img src="'+q.iconUrl+''+p.class+'.svg" '+q.iconWidthHeight+' />':'default'==p.class&&(q.iconClass=''):'success'==p.class?q.iconClass='<img src="'+q.iconUrl+''+p.class+'-white.svg" '+q.iconWidthHeight+' />':'error'==p.class?q.iconClass='<img src="'+q.iconUrl+''+p.class+'-white.svg" '+q.iconWidthHeight+' />':'info'==p.class?q.iconClass='<img src="'+q.iconUrl+''+p.class+'-white.svg" '+q.iconWidthHeight+' />':'default'==p.class&&(q.iconClass='');var t=a('<div id="popup" class="modal-box-group '+p.class+' '+p.effect+'"><div class="header"><a href="#" class="active modal-close close"><img src="'+q.iconUrl+'close.svg" '+q.iconWidthHeight+' /></a>'+q.iconClass+'</div><div class="modal-body"><h3>'+p.title+'</h3><p>'+p.description+'</p></div></div>'),u=a('<div id="popup" class="modal-box-group '+p.type+' '+p.class+' '+p.effect+'"><div class="header"><a href="#" class=" active modal-close close"><img src="'+q.iconUrl+'close.svg" '+q.iconWidthHeight+' /></a>'+q.iconClass+'</div><div class="modal-body"><h3>'+p.title+'</h3><p>'+p.description+'</p></div><div class="button-group-set"><a href="javascript:void()" class="btn btn-first">'+p.button[0]+'</a><a href="javascript:void()" class="btn btn-second">'+p.button[1]+'</a></div></div>'),v=a('<div id="popup" class="modal-box-group notify-group '+p.class+' '+p.effect+'"><div class="alert"><a href="#" class="modal-close close"><img src="'+q.iconUrl+'close.svg" '+q.iconWidthHeight+' /></a> <div class="modal-body">'+q.iconClass+' <p>'+p.description+'</p></div></div>'),w=a('<div id="popup" class="modal-box-group notify-group '+p.class+' '+p.effect+'"><div class="alert"><a href="#" class="modal-close close"><img src="'+q.iconUrl+'close.svg" '+q.iconWidthHeight+' /></a> <div class="modal-body"></h3><iframe style="overflow:hidden;overflow-x:hidden;overflow-y:hidden;height:100%;width:100%;position:absolute;top:0px;left:0px;right:0px;bottom:0px" width="100%" height="100%" src="'+r.url+'" frameborder=0 allowfullscreen></iframe></p></div></div>');if(0<a('#popup').length&&0<a('.modal-overlay').length)a('#popup').remove(),s.remove();else if(a('body').append(s),'type1'==p.type){debugger;a(u).appendTo('body')}else'notifyTemplate'==p.type?a(v).appendTo('body'):'iframeModal'==p.type?(a(w).appendTo('body'),a('#popup').css({width:r.width,height:r.height})):a(t).appendTo('body');p.close&&f(a('#popup')),g(a('#popup')),k(a('#popup')),l(a('#popup')),n(a('#popup'))})(),g(),k(),function(){a(window).resize(function(){a('.modal-box-group').hasClass('notify-group')?a('.modal-box-group').css({left:(a(window).width()-a('.modal-box-group').outerWidth())/2}):a('.modal-box-group').css({top:a(window).scrollTop()+(a(window).height()-a('.modal-box-group').outerHeight())/2,left:(a(window).width()-a('.modal-box-group').outerWidth())/2})}),a(window).resize()}(),n(),a(q.elm).addClass('show')}})})(jQuery);